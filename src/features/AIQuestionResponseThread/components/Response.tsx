import { useState } from "react";

import { EditIcon, FancySumitArrow } from "../../Downloads/chrome-extension-production/src/lib/svg";
import { cn } from "../../Downloads/chrome-extension-production/src/lib/utils";

//Could take in iterations/name?
type Props = {
  reponse: string;
};

export default function Response({ reponse }: Props) {
  //Used for show. need to properly save and use the text from parent
  const [editedResponseText, setEditedResponseText] = useState(reponse);

  const [editingResponse, setEditingResponse] = useState(false);
  const [editResponseText, setEditResponseText] = useState(reponse);

  return (
    <div
      className={cn(
        editingResponse ? "border-[#6422c8]" : "border-transparent",
        "p-6 bg-white rounded-[15px] shadow text-start w-full border"
      )}
    >
      <>
        {!editingResponse && (
          <div className="flex items-center justify-between mb-4">
            {happlyIcon}{" "}
            <div>
              <button onClick={() => setEditingResponse(true)}>
                <EditIcon />
              </button>
            </div>
          </div>
        )}

        <div
          onInput={(e) =>
            setEditResponseText(e.currentTarget.textContent || "")
          }
          contentEditable={editingResponse ? true : false}
          className={cn(
            editingResponse ? "pb-4" : "",
            "font-medium text-[#282c30] text-sm border-none outline-none"
          )}
        >
          {editedResponseText}
        </div>

        {editingResponse && (
          <div className="w-full flex justify-end">
            <button
              onClick={() => {
                //call backend to save new answer
                setEditedResponseText(editResponseText);
                setEditingResponse(false);
              }}
            >
              <FancySumitArrow />
            </button>
          </div>
        )}
      </>
    </div>
  );
}

const happlyIcon = (
  <svg
    width="37"
    height="37"
    viewBox="0 0 37 37"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    xmlnsXlink="http://www.w3.org/1999/xlink"
  >
    <path
      d="M0.857422 5.85742C0.857422 3.09599 3.096 0.857422 5.85742 0.857422H31.1431C33.9046 0.857422 36.1431 3.096 36.1431 5.85742V31.1431C36.1431 33.9046 33.9046 36.1431 31.1431 36.1431H5.85742C3.09599 36.1431 0.857422 33.9046 0.857422 31.1431V5.85742Z"
      fill="url(#pattern0_318_2993)"
    />
    <defs>
      <pattern
        id="pattern0_318_2993"
        patternContentUnits="objectBoundingBox"
        width="1"
        height="1"
      >
        <use xlinkHref="#image0_318_2993" transform="scale(0.00166667)" />
      </pattern>
      <image
        id="image0_318_2993"
        width="600"
        height="600"
        xlinkHref="data:image/png;base64,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"
      />
    </defs>
  </svg>
);
